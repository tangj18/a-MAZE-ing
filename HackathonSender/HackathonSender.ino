#include <SoftwareSerial.h>
#include <Servo.h>
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

SoftwareSerial HC12(12, 13);

//joystick
int xpin = A0;
int ypin = A1;

#define OLED_MOSI  3
#define OLED_CLK   2
#define OLED_DC    5
#define OLED_CS    6
#define OLED_RESET 4
Adafruit_SSD1306 display(OLED_MOSI, OLED_CLK, OLED_DC, OLED_RESET, OLED_CS);

String xvalString = "0";
String yvalString = "0";
String strArr[2];

//bitmaps
const unsigned char bunny1 [] PROGMEM = {
  // 'left1', 128x32px
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x20, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x01, 0xcc, 0x00, 0x00, 0x70, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x00,
  0x02, 0x32, 0x00, 0x00, 0x70, 0x00, 0x38, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x80,
  0x04, 0x21, 0x00, 0x00, 0x38, 0x00, 0x71, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x80,
  0x04, 0x21, 0x00, 0x00, 0x38, 0x00, 0x71, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc0,
  0x04, 0x61, 0x00, 0x00, 0x38, 0x00, 0x71, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xc0,
  0x04, 0x41, 0x00, 0x00, 0x3c, 0x00, 0x70, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x80,
  0x04, 0x42, 0x00, 0x00, 0x1c, 0x00, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0x80,
  0x0c, 0x02, 0x00, 0x00, 0x1c, 0x00, 0xe0, 0x04, 0x18, 0xc0, 0x07, 0xff, 0x1e, 0x00, 0xff, 0x00,
  0x10, 0x02, 0x00, 0x00, 0x1c, 0x00, 0xe0, 0x8e, 0x39, 0xe0, 0x47, 0xff, 0x3f, 0xe0, 0xff, 0x00,
  0x31, 0x81, 0x00, 0x00, 0x0e, 0x10, 0xe1, 0xde, 0x39, 0xe0, 0xe7, 0xff, 0x3f, 0xf0, 0xfe, 0x00,
  0x63, 0xc1, 0x00, 0x00, 0x0e, 0x39, 0xe1, 0xdf, 0x39, 0xe1, 0xe7, 0x00, 0x79, 0xf1, 0xfe, 0x00,
  0x43, 0xc0, 0x80, 0x00, 0x0e, 0x39, 0xc3, 0xdf, 0x39, 0xe1, 0xce, 0x00, 0x70, 0x71, 0xfc, 0x00,
  0x42, 0xc0, 0x80, 0x00, 0x07, 0x3d, 0xc3, 0x9f, 0x71, 0xe1, 0xce, 0x00, 0x70, 0x71, 0xf8, 0x00,
  0x41, 0x80, 0x7e, 0x00, 0x07, 0x7d, 0xc3, 0xbb, 0xf3, 0xf3, 0xce, 0x00, 0x70, 0xe1, 0xf8, 0x00,
  0x4c, 0x00, 0x01, 0x00, 0x07, 0x7d, 0xc3, 0xbb, 0xf3, 0xf3, 0x8f, 0xe0, 0xe0, 0xe1, 0xf0, 0x00,
  0x60, 0x00, 0x00, 0x80, 0x07, 0xff, 0x87, 0xbb, 0xf3, 0xf7, 0x9f, 0xe0, 0xff, 0xe1, 0xf0, 0x00,
  0x30, 0x00, 0x00, 0x70, 0x03, 0xef, 0x87, 0x3b, 0xf3, 0xff, 0x1f, 0xe0, 0xff, 0xe1, 0xe0, 0x00,
  0x18, 0x10, 0x00, 0x48, 0x03, 0xef, 0x87, 0x39, 0xf7, 0x3f, 0x1c, 0x01, 0xff, 0x81, 0xe0, 0x00,
  0x0f, 0x60, 0x00, 0x48, 0x03, 0xef, 0x87, 0x39, 0xe7, 0x3e, 0x1c, 0x01, 0xcf, 0x00, 0x00, 0x00,
  0x00, 0x80, 0x00, 0x38, 0x01, 0xc7, 0x8f, 0x71, 0xe7, 0x3e, 0x3c, 0x01, 0xc7, 0x81, 0xc0, 0x00,
  0x00, 0x80, 0x00, 0x20, 0x01, 0xc7, 0x0e, 0x70, 0xee, 0x1e, 0x3f, 0xf1, 0xc3, 0xc1, 0xc0, 0x00,
  0x01, 0x00, 0x3c, 0x20, 0x00, 0xc7, 0x0e, 0x70, 0xee, 0x1c, 0x3f, 0xf3, 0x81, 0xe1, 0xc0, 0x00,
  0x01, 0x0f, 0xc0, 0x20, 0x00, 0x03, 0x06, 0x70, 0xe6, 0x1c, 0x3f, 0xf3, 0x80, 0xe1, 0xc0, 0x00,
  0x01, 0x10, 0x40, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x01, 0xe0, 0x7f, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char bunny2 [] PROGMEM = {
  // 'left2', 128x32px
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x01, 0xcc, 0x00, 0x00, 0x38, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x00,
  0x02, 0x32, 0x00, 0x00, 0x38, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x04, 0x21, 0x00, 0x00, 0x1c, 0x00, 0x38, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x04, 0x21, 0x00, 0x00, 0x1c, 0x00, 0x38, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xe0,
  0x04, 0x61, 0x00, 0x00, 0x1c, 0x00, 0x38, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xe0,
  0x04, 0x41, 0x00, 0x00, 0x1e, 0x00, 0x38, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x04, 0x42, 0x00, 0x00, 0x0e, 0x00, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x0c, 0x02, 0x00, 0x00, 0x0e, 0x00, 0x70, 0x02, 0x0c, 0x60, 0x03, 0xff, 0x8f, 0x00, 0x7f, 0x80,
  0x10, 0x02, 0x00, 0x00, 0x0e, 0x00, 0x70, 0x47, 0x1c, 0xf0, 0x23, 0xff, 0x9f, 0xf0, 0x7f, 0x80,
  0x31, 0x81, 0x00, 0x00, 0x07, 0x08, 0x70, 0xef, 0x1c, 0xf0, 0x73, 0xff, 0x9f, 0xf8, 0x7f, 0x00,
  0x63, 0xc1, 0x00, 0x00, 0x07, 0x1c, 0xf0, 0xef, 0x9c, 0xf0, 0xf3, 0x80, 0x3c, 0xf8, 0xff, 0x00,
  0x43, 0xc0, 0x80, 0x00, 0x07, 0x1c, 0xe1, 0xef, 0x9c, 0xf0, 0xe7, 0x00, 0x38, 0x38, 0xfe, 0x00,
  0x42, 0xc0, 0x80, 0x00, 0x03, 0x9e, 0xe1, 0xcf, 0xb8, 0xf0, 0xe7, 0x00, 0x38, 0x38, 0xfc, 0x00,
  0x41, 0x80, 0x7e, 0x00, 0x03, 0xbe, 0xe1, 0xdd, 0xf9, 0xf9, 0xe7, 0x00, 0x38, 0x70, 0xfc, 0x00,
  0x4c, 0x00, 0x01, 0x00, 0x03, 0xbe, 0xe1, 0xdd, 0xf9, 0xf9, 0xc7, 0xf0, 0x70, 0x70, 0xf8, 0x00,
  0x60, 0x00, 0x00, 0x80, 0x03, 0xff, 0xc3, 0xdd, 0xf9, 0xfb, 0xcf, 0xf0, 0x7f, 0xf0, 0xf8, 0x00,
  0x30, 0x00, 0x00, 0x70, 0x01, 0xf7, 0xc3, 0x9d, 0xf9, 0xff, 0x8f, 0xf0, 0x7f, 0xf0, 0xf0, 0x00,
  0x18, 0x10, 0x00, 0x48, 0x01, 0xf7, 0xc3, 0x9c, 0xfb, 0x9f, 0x8e, 0x00, 0xff, 0xc0, 0xf0, 0x00,
  0x0f, 0x60, 0x00, 0x48, 0x01, 0xf7, 0xc3, 0x9c, 0xf3, 0x9f, 0x0e, 0x00, 0xe7, 0x80, 0x00, 0x00,
  0x00, 0x80, 0x00, 0x38, 0x00, 0xe3, 0xc7, 0xb8, 0xf3, 0x9f, 0x1e, 0x00, 0xe3, 0xc0, 0xe0, 0x00,
  0x03, 0x00, 0x00, 0x20, 0x00, 0xe3, 0x87, 0x38, 0x77, 0x0f, 0x1f, 0xf8, 0xe1, 0xe0, 0xe0, 0x00,
  0x06, 0x08, 0x3c, 0x20, 0x00, 0x63, 0x87, 0x38, 0x77, 0x0e, 0x1f, 0xf9, 0xc0, 0xf0, 0xe0, 0x00,
  0x04, 0x1f, 0xc2, 0x20, 0x00, 0x01, 0x83, 0x38, 0x73, 0x0e, 0x1f, 0xf9, 0xc0, 0x70, 0xe0, 0x00,
  0x04, 0x60, 0x04, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x03, 0x80, 0x08, 0x60, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x0f, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

const unsigned char bunny3 [] PROGMEM = {
  // 'left3', 128x32px
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x01, 0xcc, 0x00, 0x00, 0x10, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x02, 0x32, 0x00, 0x00, 0x38, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3c, 0x00,
  0x04, 0x21, 0x00, 0x00, 0x38, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x04, 0x21, 0x00, 0x00, 0x1c, 0x00, 0x38, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x04, 0x61, 0x00, 0x00, 0x1c, 0x00, 0x38, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xe0,
  0x04, 0x41, 0x00, 0x00, 0x1c, 0x00, 0x38, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xe0,
  0x04, 0x42, 0x00, 0x00, 0x1e, 0x00, 0x38, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x0c, 0x02, 0x00, 0x00, 0x0e, 0x00, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x7f, 0xc0,
  0x10, 0x02, 0x00, 0x00, 0x0e, 0x00, 0x70, 0x02, 0x0c, 0x60, 0x03, 0xff, 0x8f, 0x00, 0x7f, 0x80,
  0x31, 0x81, 0x00, 0x00, 0x0e, 0x00, 0x70, 0x47, 0x1c, 0xf0, 0x23, 0xff, 0x9f, 0xf0, 0x7f, 0x80,
  0x63, 0xc1, 0x00, 0x00, 0x07, 0x08, 0x70, 0xef, 0x1c, 0xf0, 0x73, 0xff, 0x9f, 0xf8, 0x7f, 0x00,
  0x43, 0xc0, 0x80, 0x00, 0x07, 0x1c, 0xf0, 0xef, 0x9c, 0xf0, 0xf3, 0x80, 0x3c, 0xf8, 0xff, 0x00,
  0x42, 0xc0, 0x80, 0x00, 0x07, 0x1c, 0xe1, 0xef, 0x9c, 0xf0, 0xe7, 0x00, 0x38, 0x38, 0xfe, 0x00,
  0x41, 0x80, 0x7e, 0x00, 0x03, 0x9e, 0xe1, 0xcf, 0xb8, 0xf0, 0xe7, 0x00, 0x38, 0x38, 0xfc, 0x00,
  0x4c, 0x00, 0x01, 0x00, 0x03, 0xbe, 0xe1, 0xdd, 0xf9, 0xf9, 0xe7, 0x00, 0x38, 0x70, 0xfc, 0x00,
  0x60, 0x00, 0x00, 0x80, 0x03, 0xbe, 0xe1, 0xdd, 0xf9, 0xf9, 0xc7, 0xf0, 0x70, 0x70, 0xf8, 0x00,
  0x30, 0x00, 0x00, 0x70, 0x03, 0xff, 0xc3, 0xdd, 0xf9, 0xfb, 0xcf, 0xf0, 0x7f, 0xf0, 0xf8, 0x00,
  0x18, 0x10, 0x00, 0x48, 0x01, 0xf7, 0xc3, 0x9d, 0xf9, 0xff, 0x8f, 0xf0, 0x7f, 0xf0, 0xf0, 0x00,
  0x0f, 0xe0, 0x00, 0x48, 0x01, 0xf7, 0xc3, 0x9c, 0xfb, 0x9f, 0x8e, 0x00, 0xff, 0xc0, 0xf0, 0x00,
  0x02, 0x00, 0x00, 0x38, 0x01, 0xf7, 0xc3, 0x9c, 0xf3, 0x9f, 0x0e, 0x00, 0xe7, 0x80, 0x00, 0x00,
  0x04, 0x00, 0x00, 0x20, 0x00, 0xe3, 0xc7, 0xb8, 0xf3, 0x9f, 0x1e, 0x00, 0xe3, 0xc0, 0xe0, 0x00,
  0x08, 0x08, 0x3e, 0x20, 0x00, 0xe3, 0x87, 0x38, 0x77, 0x0f, 0x1f, 0xf8, 0xe1, 0xe0, 0xe0, 0x00,
  0x08, 0x3f, 0xc2, 0x10, 0x00, 0x63, 0x87, 0x38, 0x77, 0x0e, 0x1f, 0xf9, 0xc0, 0xf0, 0xe0, 0x00,
  0x07, 0xc0, 0x01, 0x10, 0x00, 0x01, 0x83, 0x38, 0x73, 0x0e, 0x1f, 0xf9, 0xc0, 0x70, 0xe0, 0x00,
  0x00, 0x00, 0x00, 0x90, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x70, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};



const unsigned char angery1 [] PROGMEM = {
  // 'angry1', 30x32px
0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xf0, 0x00, 0x00, 0x30, 0x0c, 0x00, 0x00, 0xc0, 0x03, 0x00, 
0x01, 0x00, 0x00, 0x80, 0x02, 0x00, 0x00, 0x40, 0x04, 0x04, 0x40, 0x20, 0x0b, 0x04, 0x41, 0x90, 
0x10, 0xc4, 0x46, 0x08, 0x10, 0xbc, 0x7a, 0x08, 0x20, 0x88, 0x22, 0x04, 0x20, 0xe8, 0x2e, 0x04, 
0x40, 0xf8, 0x3e, 0x04, 0x40, 0xf8, 0x3e, 0x02, 0x40, 0xf8, 0x3e, 0x02, 0x40, 0x70, 0x1c, 0x02, 
0x40, 0x20, 0x08, 0x02, 0x40, 0x00, 0x00, 0x02, 0x40, 0x00, 0x00, 0x02, 0x40, 0x3f, 0xf8, 0x04, 
0x20, 0x60, 0x0c, 0x04, 0x20, 0xe0, 0x0e, 0x04, 0x10, 0xff, 0xfe, 0x08, 0x10, 0xe0, 0x0e, 0x08, 
0x08, 0x67, 0xcc, 0x10, 0x04, 0x3c, 0x78, 0x20, 0x02, 0x00, 0x00, 0x40, 0x01, 0x00, 0x00, 0x80, 
0x00, 0xc0, 0x03, 0x00, 0x00, 0x38, 0x1c, 0x00, 0x00, 0x07, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00
};
const unsigned char angery2 [] PROGMEM = {
  // 'angry1', 30x32px
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0f, 0xc0, 0x00, 0x00, 0x70, 0x38, 0x00,
  0x00, 0x80, 0x06, 0x00, 0x03, 0x00, 0x01, 0x00, 0x04, 0x04, 0x80, 0x80, 0x04, 0x0c, 0xc0, 0x80,
  0x08, 0x18, 0x60, 0x40, 0x10, 0x70, 0x38, 0x20, 0x11, 0xc0, 0x0e, 0x20, 0x10, 0x30, 0x30, 0x20,
  0x20, 0x78, 0x78, 0x10, 0x20, 0xfc, 0xfc, 0x10, 0x20, 0xfc, 0xfc, 0x10, 0x20, 0xcc, 0xcc, 0x10,
  0x20, 0xcc, 0xcc, 0x10, 0x20, 0x58, 0x68, 0x10, 0x10, 0x30, 0x30, 0x20, 0x10, 0x00, 0x00, 0x20,
  0x10, 0x07, 0x80, 0x20, 0x08, 0x18, 0x60, 0x40, 0x08, 0x20, 0x10, 0x80, 0x04, 0x00, 0x00, 0x80,
  0x03, 0x00, 0x03, 0x00, 0x00, 0x80, 0x04, 0x00, 0x00, 0x70, 0x38, 0x00, 0x00, 0x0f, 0xc0, 0x00
};
const unsigned char angery3 [] PROGMEM = {
  // 'angry3', 33x32px
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0x00, 0x00, 0x00, 0x07,
  0x03, 0x80, 0x00, 0x00, 0x08, 0x00, 0x60, 0x00, 0x00, 0x30, 0x00, 0x10, 0x00, 0x00, 0x40, 0x00,
  0x08, 0x00, 0x00, 0x46, 0x00, 0x48, 0x00, 0x00, 0x99, 0x00, 0x84, 0x00, 0x01, 0x20, 0x83, 0x02,
  0x00, 0x01, 0x00, 0x0c, 0x02, 0x00, 0x01, 0x0e, 0x03, 0x82, 0x00, 0x02, 0x13, 0x06, 0x41, 0x00,
  0x02, 0x25, 0x8d, 0x21, 0x00, 0x02, 0x27, 0x8f, 0x21, 0x00, 0x02, 0x27, 0x8f, 0x21, 0x00, 0x02,
  0x13, 0x06, 0x41, 0x00, 0x02, 0x0e, 0x03, 0x81, 0x00, 0x01, 0x00, 0x00, 0x02, 0x00, 0x01, 0x00,
  0x00, 0x02, 0x00, 0x01, 0x00, 0x00, 0x02, 0x00, 0x00, 0x80, 0xf0, 0x04, 0x00, 0x54, 0x80, 0x00,
  0x08, 0x00, 0x00, 0x40, 0x00, 0x08, 0x00, 0x00, 0x30, 0x00, 0x30, 0x00, 0x00, 0x08, 0x00, 0x40,
  0x00, 0x00, 0x07, 0x03, 0x80, 0x00, 0x00, 0x00, 0xfc, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

void setup() {
  Serial.begin(9600);
  HC12.begin(9600);
  Serial.println("work");

  display.begin(SSD1306_SWITCHCAPVCC);
  bufferdisplay();
}

bool flag = false;
void loop() {


  while (Serial.available()) {
    HC12.write(Serial.read());
  }
  //receives from sender
  String rxString = "";
  if (HC12.available()) {

    xvalString = "";
    while (HC12.available()) {
      delay(2);
      char ch = HC12.read();
      rxString += ch;
    }

    int stringStart = 0;
    int arrayIndex = 0;

    for (int i = 0; i < rxString.length(); i++) {
      if (rxString.charAt(i) == ',') {
        strArr[arrayIndex] = "";
        strArr[arrayIndex] = rxString.substring(stringStart, i);
        stringStart = (i + 1);
        arrayIndex++;
      }
    }
    xvalString = strArr[0];
    yvalString = strArr[1];

    if (xvalString == "win" || yvalString == "win") {
      bunnyjump();
      Serial.println("win");
      delay(50);

    } else if (xvalString == "boo" || yvalString == "boo") {
      int randface = random(0, 3);

      if (randface == 0) {
        angeryface1();
        angeryface1();
        angeryface1();
      } else if (randface == 1) {
        angeryface2();
        angeryface2();
        angeryface2();
      } else if (randface == 2) {
        angeryface3();
        angeryface3();
        angeryface3();
      }

      Serial.println(randface);
      delay(50);
    }

  }

  int x = analogRead(xpin);
  int y = analogRead(ypin);
  int xval = map(x, 0, 1023, 40, 90);
  int yval = map(y, 0, 1023, 40, 90);


  HC12.print(xval);
  HC12.print(",");
  HC12.print(yval);
  HC12.println(",");
  delay(50);

}

void bufferdisplay() {
  display.display();
  delay(75);
  display.clearDisplay();
}
